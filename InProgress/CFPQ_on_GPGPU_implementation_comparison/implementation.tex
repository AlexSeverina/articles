\section{Implementation}

We implement matrix-based algorithm fo CFPQ by using a number of different programming languages and tools.
Our goal is to investigate effects of the next features of implmentation.
\begin{itemize}
\item \textbf{GPGPU utilization.} 
It is mell-known thet GPGPUs are sutable for matrices operations, but performance of whole solution depends on task details: overhead on data transferring may negate effect of parallel computations. 
Moreover, it is believed that GPGPUs is not sutable boolean calculations~\cite{!!!}. 
Can GPGPUs utilization for CFPQ improve performance in comparison with CPU version?

\item \textbf{Existing libraries utilization} is a good practice in software engeneering.
Is it possible to achaive highe performance by using existing libraries for matrices operations or we need to create own solution to get more control?

\item \textbf{Low-level programming}. 
GPGPU programming is traditionally low-level programming by using C-based languages (CUDA C, OpenCL C). 
On the other hand, there are number of approaches to create GPGPU-based solution by ysing such high-level languages as a Python. 
Can we get high-performance solution by using such approaches?

\item \textbf{Sparce matrices.} Real graphs often are sparse, but not always.
Is it sutable to use sparse matrix representation for CFPQ? 

\end{itemize}

We provide next implementations for investigation.

\begin{itemize}
  \item CPU-based solutions 
  \begin{itemize}
    \item Saprse matrices multiplication by using Scipy~\cite{scipy} in Python programming language.
    \item Dense matrices multiplication by using m4ri\footnote{Actually we use pull request which is not merged yet: \url{https://bitbucket.org/malb/m4ri/pull-requests/9/extended-m4ri-to-multiplication-over-the/diff}}~\cite{M4RI} library which implements 4 russian method~\cite{arlazarov1970economical} in C language.
    It is one of performnat implementation of 4 russian method~\cite{albrechtefficient}.
  \end{itemize}
  \item GPGPU-based solutions
  \begin{itemize}
    \item Manual implemenattion of 4 russian metod in CUDA C.
    \item Manual implementation of na\"ive boolean matrix multiplication in CUDA C.
    \item Manual implementation of na\"ive boolean matrix multiplication in Pyton by using numba compiler\footnote{Numba is a JIT compiler which supports GPGPU for subset of Python programming. Offical page: \url{http://numba.pydata.org/}. Access date: 03.05.2019}. 
  \end{itemize}
\end{itemize}


Generic notes on optimizations.
Notes on data transferring.
On matrix changes tracking (we should multiply pair of matrices only if one of them changed in last iteration)

\subsection{m4ri}

Descriprion of impl 1~\cite{M4RI}

\subsection{Pyton sparse CPU}

Descriprion of impl 2

\subsection{CUDA naive}

Descriprion of impl 3

\subsection{CUDA 4 russian method}

Descriprion of impl 4

\subsection{Python + CUDA}

Descriprion of impl 5

\subsection{Smth else?}

Descriprion of impl n
