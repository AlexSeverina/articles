\section{Bar-Hillel Theorem}

Original Bar-Hillel theorem and proof which we use as base.
We work with the next formulation of the theorem.

\begin{lemma} \label{l1}
	If $L$ is a context free language and $\varepsilon \notin L$ then there is grammar in Chomsky Normal Form that generates $L$.
\end{lemma}

% TODO fix: Undefined control sequence \varnothing
\begin{lemma} \label{l2}
	If $ L \neq \emptyset $ and $L$ is regular then $L$ is the union of regular language $A_1, \ldots , A_n$ where each $A_i$ is accepted by a DFA with exactly one final state.
\end{lemma}

\begin{theorem}
	If $L_1$ is a context free language and $L_2$ is a regular language then $L_1 \cap L_2$ is context free.
\end{theorem}


Sketch of the proof:
\begin{enumerate}
	\item By lemma~\ref{l1} we can assume that there is a context-free grammar $G_{CNF}$ in Chomsky normal form, such that $L(G_{CNF}) = L_1$
	\item By lemma~\ref{l2} we can assume that there is a set of regular languages $\{A_{1} \ldots A_n \}$ where each $A_i$ is recognized by a DFA with exactly one final state and $L_2 = A_1 \cup \ldots \cup A_n$ 
	\item For each $A_i$ we can explicitly define a (?) grammar of the intersection: $L( G_{CNF} ) \cap A_i$
	\item Finally, we join them together with the (?) operation of union
\end{enumerate}
