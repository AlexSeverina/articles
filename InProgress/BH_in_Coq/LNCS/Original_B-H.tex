\section{Bar-Hillel Theorem}
\label{sec:b-h-th}

In this section, we provide the Bar-Hillel theorem and sketch the proof which we use as the base of our work.
We also provide some additional lemmas which are used in the proof of the main theorem.

\begin{lemma} \label{l1}
	If $L$ is a context-free language and $\varepsilon \notin L$ then there is a grammar in Chomsky Normal Form that generates $L$.
\end{lemma}

\begin{lemma} \label{l2}
	If $ L \neq \varnothing $ and $L$ is regular then $L$ is the union of regular language $A_1, \ldots , A_n$ where each $A_i$ is accepted by a DFA with precisely one final state.
\end{lemma}

\begin{theorem}[Bar-Hillel]
	If $L_1$ is a context-free language and $L_2$ is a regular language, then $L_1 \cap L_2$ is context-free.
\end{theorem}


Sketch of the proof.
\begin{enumerate}
	\item By Lemma~\ref{l1} we can assume that there is a context-free grammar $G_{\text{CNF}}$ in Chomsky normal form, such that $L(G_{CNF}) = L_1$
	\item By Lemma~\ref{l2} we can assume that there is a set of regular languages $\{A_{1} \ldots A_n \}$ where each $A_i$ is recognized by a DFA with precisely one final state and $L_2 = A_1 \cup \ldots \cup A_n$
	\item For each $A_i$ we can explicitly define a grammar of the $L( G_{\text{CNF}} ) \cap A_i$
	\item Finally, we join them together with the union operation
\end{enumerate}

As far as Bar-Hillel theorem operates with arbitrary context-free languages and the selected proof requires grammar in CNF, it is necessary to implement a certified algorithm for the conversion of an arbitrary CF grammar to CNF.
We wanted to reuse existing mechanized proof for the conversion.
We chose the one provided in Smolka's work and discussed it in the context of our work in section~\ref{sec:solka-generalized}.
