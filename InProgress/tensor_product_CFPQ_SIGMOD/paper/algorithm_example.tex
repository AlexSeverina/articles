\subsection{An example}

In this section we introduce detailed example to demonstrate steps of the proposed algorithm.
Our example is based on the classical worst case scenario introduced by Jelle Hellings in~\cite{!!!}. 
Namely, let we have a graph $\mathcal{G}$ presented in figure~\ref{fig:example_input_graph} and the RSM $R$ presented in figure~\cite{!!!}.

First step we represent graph as a set of boolean matrices as presented in~\ref{eq:boolean_decomposition_of_graph}, and RSM as a set of boolean matrices, as presented in~\ref{!!!}. 
Note, that we should add new empty matrix $M_2^{S}$ to $M_2$. 
After that we should iteratively compute $M_1$ and $C$. 

\textbf{First iteration.} As far as $M_2^{S,0}$ is empty (no edges with lable $S$ in the input graph), then correspondent block od the Kronecker product will be empty.
{\tiny
    \renewcommand{\arraystretch}{0.5}
    \setlength\arraycolsep{0.1pt}
\begin{align*}
& M_3^1 = M_1^a \otimes M_2^{a,0} +  M_1^b \otimes M_2^{b,0} + M_1^S \otimes M_2^{S,0} = \\
& \kbordermatrix{
          & (0,0) & (0,1) & (0,2) & (0,3) & \vrule & (1,0) & (1,1) & (1,2) & (1,3) & \vrule &  (2,0) & (2,1) & (2,2) & (2,3) & \vrule &  (3,0) & (3,1) & (3,2) & (3,3) &\\ 
    (0,0) & . & . & . & . & \vrule & . & 1 & . & . & \vrule & . & . & . & . &  \vrule & . & . & . & . \\
    (0,1) & . & . & . & . & \vrule & . & . & 1 & . & \vrule & . & . & . & . &  \vrule & . & . & . & . \\
    (0,2) & . & . & . & . & \vrule & 1 & . & . & . & \vrule & . & . & . & . &  \vrule & . & . & . & . \\
    (0,3) & . & . & . & . & \vrule & . & . & . & . & \vrule & . & . & . & . &  \vrule & . & . & . & . \\
    \hline
    (1,0) & . & . & . & .  & \vrule & . & . & . & . & \vrule & . & . & . & . & \vrule & . & . & . & . \\
    (1,1) & . & . & . & .  & \vrule & . & . & . & . & \vrule & . & . & . & . & \vrule & . & . & . & . \\
    (1,2) & . & . & . & .  & \vrule & . & . & . & . & \vrule & . & . & . & . & \vrule & . & . & . & 1 \\
    (1,3) & . & . & . & .  & \vrule & . & . & . & . & \vrule & . & . & . & . & \vrule & . & . & 1 & . \\
    \hline
    (2,0) & . & . & . & .  & \vrule & . & . & . & . & \vrule & . & . & . & . & \vrule & . & . & . & . \\
    (2,1) & . & . & . & .  & \vrule & . & . & . & . & \vrule & . & . & . & . & \vrule & . & . & . & . \\
    (2,2) & . & . & . & .  & \vrule & . & . & . & . & \vrule & . & . & . & . & \vrule & . & . & . & 1 \\
    (2,3) & . & . & . & .  & \vrule & . & . & . & . & \vrule & . & . & . & . & \vrule & . & . & 1 & . \\
    \hline
    (2,0) & . & . & . & .  & \vrule & . & . & . & . & \vrule & . & . & . & . & \vrule & . & . & . & . \\
    (2,1) & . & . & . & .  & \vrule & . & . & . & . & \vrule & . & . & . & . & \vrule & . & . & . & . \\
    (2,2) & . & . & . & .  & \vrule & . & . & . & . & \vrule & . & . & . & . & \vrule & . & . & . & . \\
    (2,3) & . & . & . & .  & \vrule & . & . & . & . & \vrule & . & . & . & . & \vrule & . & . & . & . \\
}
\end{align*}
}

Transitive closure calculation introduces one new path of length 2 (respective cell is filled). 

{\tiny
    \renewcommand{\arraystretch}{0.5}
    \setlength\arraycolsep{0.1pt}
\begin{align*}
& C_3^1 = tc(M_3^1) = 
\\
& \kbordermatrix{
          & (0,0) & (0,1) & (0,2) & (0,3) & \vrule & (1,0) & (1,1) & (1,2) & (1,3) & \vrule &  (2,0) & (2,1) & (2,2) & (2,3) & \vrule &  (3,0) & (3,1) & (3,2) & (3,3) &\\ 
    (0,0) & . & . & . & . & \vrule & . & 1 & . & . & \vrule & . & . & . & . &  \vrule & . & . & . & . \\
    (0,1) & . & . & . & . & \vrule & . & . & 1 & . & \vrule & . & . & . & . &  \vrule & . & . & . & \mc \\
    (0,2) & . & . & . & . & \vrule & 1 & . & . & . & \vrule & . & . & . & . &  \vrule & . & . & . & . \\
    (0,3) & . & . & . & . & \vrule & . & . & . & . & \vrule & . & . & . & . &  \vrule & . & . & . & . \\
    \hline
    (1,0) & . & . & . & .  & \vrule & . & . & . & . & \vrule & . & . & . & . & \vrule & . & . & . & . \\
    (1,1) & . & . & . & .  & \vrule & . & . & . & . & \vrule & . & . & . & . & \vrule & . & . & . & . \\
    (1,2) & . & . & . & .  & \vrule & . & . & . & . & \vrule & . & . & . & . & \vrule & . & . & . & 1 \\
    (1,3) & . & . & . & .  & \vrule & . & . & . & . & \vrule & . & . & . & . & \vrule & . & . & 1 & . \\
    \hline
    (2,0) & . & . & . & .  & \vrule & . & . & . & . & \vrule & . & . & . & . & \vrule & . & . & . & . \\
    (2,1) & . & . & . & .  & \vrule & . & . & . & . & \vrule & . & . & . & . & \vrule & . & . & . & . \\
    (2,2) & . & . & . & .  & \vrule & . & . & . & . & \vrule & . & . & . & . & \vrule & . & . & . & 1 \\
    (2,3) & . & . & . & .  & \vrule & . & . & . & . & \vrule & . & . & . & . & \vrule & . & . & 1 & . \\
    \hline
    (2,0) & . & . & . & .  & \vrule & . & . & . & . & \vrule & . & . & . & . & \vrule & . & . & . & . \\
    (2,1) & . & . & . & .  & \vrule & . & . & . & . & \vrule & . & . & . & . & \vrule & . & . & . & . \\
    (2,2) & . & . & . & .  & \vrule & . & . & . & . & \vrule & . & . & . & . & \vrule & . & . & . & . \\
    (2,3) & . & . & . & .  & \vrule & . & . & . & . & \vrule & . & . & . & . & \vrule & . & . & . & . \\
}
\end{align*}
}


This path starts in the vertex $(0,1)$ and finishes in the vertex $(3,3)$. 
We can see, that 0 is a start state of RSM $R$ and 3 is a final state of RSM $R$. Thus we can conclude that there esists a path between vertices 1 and 3 such that respective word is acceptable by $R$.
As a result we can add the edge $(1,S,3)$ to the $\mathcal{G}$, namely we should update the matrix $M_2^S$. 

\textbf{Second iteration.} Modified input graph contains edge with lable $S$. From now !!!

{\tiny
    \renewcommand{\arraystretch}{0.5}
    \setlength\arraycolsep{0.1pt}
\begin{align*}
& M_3^2 = M_1^a \otimes M_2^{a,0} +  M_1^b \otimes M_2^{b,0} + M_1^S \otimes M_2^{S,1} = \\
& \kbordermatrix{
          & (0,0) & (0,1) & (0,2) & (0,3) & \vrule & (1,0) & (1,1) & (1,2) & (1,3) & \vrule &  (2,0) & (2,1) & (2,2) & (2,3) & \vrule &  (3,0) & (3,1) & (3,2) & (3,3) &\\ 
    (0,0) & . & . & . & . & \vrule & . & 1 & . & . & \vrule & . & . & . & . &  \vrule & . & . & . & . \\
    (0,1) & . & . & . & . & \vrule & . & . & 1 & . & \vrule & . & . & . & . &  \vrule & . & . & . & . \\
    (0,2) & . & . & . & . & \vrule & 1 & . & . & . & \vrule & . & . & . & . &  \vrule & . & . & . & . \\
    (0,3) & . & . & . & . & \vrule & . & . & . & . & \vrule & . & . & . & . &  \vrule & . & . & . & . \\
    \hline
    (1,0) & . & . & . & .  & \vrule & . & . & . & . & \vrule & . & . & . & . & \vrule & . & . & . & . \\
    (1,1) & . & . & . & .  & \vrule & . & . & . & . & \vrule & . & . & . &\mc& \vrule & . & . & . & . \\
    (1,2) & . & . & . & .  & \vrule & . & . & . & . & \vrule & . & . & . & . & \vrule & . & . & . & 1 \\
    (1,3) & . & . & . & .  & \vrule & . & . & . & . & \vrule & . & . & . & . & \vrule & . & . & 1 & . \\
    \hline
    (2,0) & . & . & . & .  & \vrule & . & . & . & . & \vrule & . & . & . & . & \vrule & . & . & . & . \\
    (2,1) & . & . & . & .  & \vrule & . & . & . & . & \vrule & . & . & . & . & \vrule & . & . & . & . \\
    (2,2) & . & . & . & .  & \vrule & . & . & . & . & \vrule & . & . & . & . & \vrule & . & . & . & 1 \\
    (2,3) & . & . & . & .  & \vrule & . & . & . & . & \vrule & . & . & . & . & \vrule & . & . & 1 & . \\
    \hline
    (2,0) & . & . & . & .  & \vrule & . & . & . & . & \vrule & . & . & . & . & \vrule & . & . & . & . \\
    (2,1) & . & . & . & .  & \vrule & . & . & . & . & \vrule & . & . & . & . & \vrule & . & . & . & . \\
    (2,2) & . & . & . & .  & \vrule & . & . & . & . & \vrule & . & . & . & . & \vrule & . & . & . & . \\
    (2,3) & . & . & . & .  & \vrule & . & . & . & . & \vrule & . & . & . & . & \vrule & . & . & . & . \\
} \\
& C_3^2 = tc(M_3^2) = 
\\
& \kbordermatrix{
          & (0,0) & (0,1) & (0,2) & (0,3) & \vrule & (1,0) & (1,1) & (1,2) & (1,3) & \vrule &  (2,0) & (2,1) & (2,2) & (2,3) & \vrule &  (3,0) & (3,1) & (3,2) & (3,3) &\\ 
    (0,0) & . & . & . & . & \vrule & . & 1 & . & . & \vrule & . & . & . &\mc&  \vrule & . & . &\mc& . \\
    (0,1) & . & . & . & . & \vrule & . & . & 1 & . & \vrule & . & . & . & . &  \vrule & . & . & . & 1 \\
    (0,2) & . & . & . & . & \vrule & 1 & . & . & . & \vrule & . & . & . & . &  \vrule & . & . & . & . \\
    (0,3) & . & . & . & . & \vrule & . & . & . & . & \vrule & . & . & . & . &  \vrule & . & . & . & . \\
    \hline
    (1,0) & . & . & . & .  & \vrule & . & . & . & . & \vrule & . & . & . & . & \vrule & . & . & . & . \\
    (1,1) & . & . & . & .  & \vrule & . & . & . & . & \vrule & . & . & . & 1 & \vrule & . & . &\mc& . \\
    (1,2) & . & . & . & .  & \vrule & . & . & . & . & \vrule & . & . & . & . & \vrule & . & . & . & 1 \\
    (1,3) & . & . & . & .  & \vrule & . & . & . & . & \vrule & . & . & . & . & \vrule & . & . & 1 & . \\
    \hline
    (2,0) & . & . & . & .  & \vrule & . & . & . & . & \vrule & . & . & . & . & \vrule & . & . & . & . \\
    (2,1) & . & . & . & .  & \vrule & . & . & . & . & \vrule & . & . & . & . & \vrule & . & . & . & . \\
    (2,2) & . & . & . & .  & \vrule & . & . & . & . & \vrule & . & . & . & . & \vrule & . & . & . & 1 \\
    (2,3) & . & . & . & .  & \vrule & . & . & . & . & \vrule & . & . & . & . & \vrule & . & . & 1 & . \\
    \hline
    (2,0) & . & . & . & .  & \vrule & . & . & . & . & \vrule & . & . & . & . & \vrule & . & . & . & . \\
    (2,1) & . & . & . & .  & \vrule & . & . & . & . & \vrule & . & . & . & . & \vrule & . & . & . & . \\
    (2,2) & . & . & . & .  & \vrule & . & . & . & . & \vrule & . & . & . & . & \vrule & . & . & . & . \\
    (2,3) & . & . & . & .  & \vrule & . & . & . & . & \vrule & . & . & . & . & \vrule & . & . & . & . \\
}
\end{align*}
}

\begin{comment}
{\tiny
    \renewcommand{\arraystretch}{0.5}
    \setlength\arraycolsep{0.1pt}
\begin{align*}
& C_3^3 = 
\\
& \kbordermatrix{
          & (0,0) & (0,1) & (0,2) & (0,3) & \vrule & (1,0) & (1,1) & (1,2) & (1,3) & \vrule &  (2,0) & (2,1) & (2,2) & (2,3) & \vrule &  (3,0) & (3,1) & (3,2) & (3,3) &\\ 
    (0,0) & . & . & . & . & \vrule & . & 1 & . & . & \vrule & . & . & . & 1 &  \vrule & . & . & 1 & . \\
    (0,1) & . & . & . & . & \vrule & . & . & 1 & . & \vrule & . & . & . & . &  \vrule & . & . & . & 1 \\
    (0,2) & . & . & . & . & \vrule & 1 & . & . & . & \vrule & . & . &\mc& . &  \vrule & . & . & . &\mc\\
    (0,3) & . & . & . & . & \vrule & . & . & . & . & \vrule & . & . & . & . &  \vrule & . & . & . & . \\
    \hline
    (1,0) & . & . & . & .  & \vrule & . & . & . & . & \vrule & . & . & 1 & . & \vrule & . & . & . &\mc\\
    (1,1) & . & . & . & .  & \vrule & . & . & . & . & \vrule & . & . & . & 1 & \vrule & . & . & 1 & . \\
    (1,2) & . & . & . & .  & \vrule & . & . & . & . & \vrule & . & . & . & . & \vrule & . & . & . & 1 \\
    (1,3) & . & . & . & .  & \vrule & . & . & . & . & \vrule & . & . & . & . & \vrule & . & . & 1 & . \\
    \hline
    (2,0) & . & . & . & .  & \vrule & . & . & . & . & \vrule & . & . & . & . & \vrule & . & . & . & . \\
    (2,1) & . & . & . & .  & \vrule & . & . & . & . & \vrule & . & . & . & . & \vrule & . & . & . & . \\
    (2,2) & . & . & . & .  & \vrule & . & . & . & . & \vrule & . & . & . & . & \vrule & . & . & . & 1 \\
    (2,3) & . & . & . & .  & \vrule & . & . & . & . & \vrule & . & . & . & . & \vrule & . & . & 1 & . \\
    \hline
    (2,0) & . & . & . & .  & \vrule & . & . & . & . & \vrule & . & . & . & . & \vrule & . & . & . & . \\
    (2,1) & . & . & . & .  & \vrule & . & . & . & . & \vrule & . & . & . & . & \vrule & . & . & . & . \\
    (2,2) & . & . & . & .  & \vrule & . & . & . & . & \vrule & . & . & . & . & \vrule & . & . & . & . \\
    (2,3) & . & . & . & .  & \vrule & . & . & . & . & \vrule & . & . & . & . & \vrule & . & . & . & . \\
}
\end{align*}
}

{\tiny
    \renewcommand{\arraystretch}{0.5}
    \setlength\arraycolsep{0.1pt}
\begin{align*}
& C_3^4 = 
\\
& \kbordermatrix{
          & (0,0) & (0,1) & (0,2) & (0,3) & \vrule & (1,0) & (1,1) & (1,2) & (1,3) & \vrule &  (2,0) & (2,1) & (2,2) & (2,3) & \vrule &  (3,0) & (3,1) & (3,2) & (3,3) &\\ 
    (0,0) & . & . & . & . & \vrule & . & 1 & . & . & \vrule & . & . & . & 1 &  \vrule & . & . & 1 & . \\
    (0,1) & . & . & . & . & \vrule & . & . & 1 & . & \vrule & . & . & . &\mc&  \vrule & . & . &\mc& 1 \\
    (0,2) & . & . & . & . & \vrule & 1 & . & . & . & \vrule & . & . & 1 & . &  \vrule & . & . & . & 1\\
    (0,3) & . & . & . & . & \vrule & . & . & . & . & \vrule & . & . & . & . &  \vrule & . & . & . & . \\
    \hline
    (1,0) & . & . & . & .  & \vrule & . & . & . & . & \vrule & . & . & 1 & . & \vrule & . & . & . & 1\\
    (1,1) & . & . & . & .  & \vrule & . & . & . & . & \vrule & . & . & . & 1 & \vrule & . & . & 1 & . \\
    (1,2) & . & . & . & .  & \vrule & . & . & . & . & \vrule & . & . & . & 1 & \vrule & . & . &\mc& 1 \\
    (1,3) & . & . & . & .  & \vrule & . & . & . & . & \vrule & . & . & . & . & \vrule & . & . & 1 & . \\
    \hline
    (2,0) & . & . & . & .  & \vrule & . & . & . & . & \vrule & . & . & . & . & \vrule & . & . & . & . \\
    (2,1) & . & . & . & .  & \vrule & . & . & . & . & \vrule & . & . & . & . & \vrule & . & . & . & . \\
    (2,2) & . & . & . & .  & \vrule & . & . & . & . & \vrule & . & . & . & . & \vrule & . & . & . & 1 \\
    (2,3) & . & . & . & .  & \vrule & . & . & . & . & \vrule & . & . & . & . & \vrule & . & . & 1 & . \\
    \hline
    (2,0) & . & . & . & .  & \vrule & . & . & . & . & \vrule & . & . & . & . & \vrule & . & . & . & . \\
    (2,1) & . & . & . & .  & \vrule & . & . & . & . & \vrule & . & . & . & . & \vrule & . & . & . & . \\
    (2,2) & . & . & . & .  & \vrule & . & . & . & . & \vrule & . & . & . & . & \vrule & . & . & . & . \\
    (2,3) & . & . & . & .  & \vrule & . & . & . & . & \vrule & . & . & . & . & \vrule & . & . & . & . \\
}
\end{align*}
}

{\tiny
    \renewcommand{\arraystretch}{0.5}
    \setlength\arraycolsep{0.1pt}
\begin{align*}
& C_3^5 = 
\\
& \kbordermatrix{
          & (0,0) & (0,1) & (0,2) & (0,3) & \vrule & (1,0) & (1,1) & (1,2) & (1,3) & \vrule &  (2,0) & (2,1) & (2,2) & (2,3) & \vrule &  (3,0) & (3,1) & (3,2) & (3,3) &\\ 
    (0,0) & . & . & . & . & \vrule & . & 1 & . & . & \vrule & . & . &\mc& 1 &  \vrule & . & . & 1 &\mc\\
    (0,1) & . & . & . & . & \vrule & . & . & 1 & . & \vrule & . & . & . & 1 &  \vrule & . & . & 1 & 1 \\
    (0,2) & . & . & . & . & \vrule & 1 & . & . & . & \vrule & . & . & 1 & . &  \vrule & . & . & . & 1 \\
    (0,3) & . & . & . & . & \vrule & . & . & . & . & \vrule & . & . & . & . &  \vrule & . & . & . & . \\
    \hline
    (1,0) & . & . & . & .  & \vrule & . & . & . & . & \vrule & . & . & 1 & . & \vrule & . & . & . & 1\\
    (1,1) & . & . & . & .  & \vrule & . & . & . & . & \vrule & . & . & 1 & 1 & \vrule & . & . & 1 &\mc\\
    (1,2) & . & . & . & .  & \vrule & . & . & . & . & \vrule & . & . & . & 1 & \vrule & . & . & 1 & 1 \\
    (1,3) & . & . & . & .  & \vrule & . & . & . & . & \vrule & . & . & . & . & \vrule & . & . & 1 & . \\
    \hline
    (2,0) & . & . & . & .  & \vrule & . & . & . & . & \vrule & . & . & . & . & \vrule & . & . & . & . \\
    (2,1) & . & . & . & .  & \vrule & . & . & . & . & \vrule & . & . & . & . & \vrule & . & . & . & . \\
    (2,2) & . & . & . & .  & \vrule & . & . & . & . & \vrule & . & . & . & . & \vrule & . & . & . & 1 \\
    (2,3) & . & . & . & .  & \vrule & . & . & . & . & \vrule & . & . & . & . & \vrule & . & . & 1 & . \\
    \hline
    (2,0) & . & . & . & .  & \vrule & . & . & . & . & \vrule & . & . & . & . & \vrule & . & . & . & . \\
    (2,1) & . & . & . & .  & \vrule & . & . & . & . & \vrule & . & . & . & . & \vrule & . & . & . & . \\
    (2,2) & . & . & . & .  & \vrule & . & . & . & . & \vrule & . & . & . & . & \vrule & . & . & . & . \\
    (2,3) & . & . & . & .  & \vrule & . & . & . & . & \vrule & . & . & . & . & \vrule & . & . & . & . \\
}
\end{align*}
}
\end{comment}

{\tiny
    \renewcommand{\arraystretch}{0.5}
    \setlength\arraycolsep{0.1pt}
\begin{align*}
& C_3^6 = 
\\
& \kbordermatrix{
          & 0_{(0,0)} & 1_{(0,1)} & (0,2) & (0,3) & \vrule & (1,0) & (1,1) & (1,2) & (1,3) & \vrule &  (2,0) & (2,1) & (2,2) & (2,3) & \vrule &  (3,0) & (3,1) & (3,2) & (3,3) &\\ 
    0:(0,0) & . & . & . & . & \vrule & . & 1 & . & . & \vrule & . & . & 1 & 1 &  \vrule & . & . & 1 & 1 \\
    1:(0,1) & . & . & . & . & \vrule & . & . & 1 & . & \vrule & . & . & . & 1 &  \vrule & . & . & 1 & 1 \\
    2:(0,2) & . & . & . & . & \vrule & 1 & . & . & . & \vrule & . & . & 1 &\mc&  \vrule & . & . &\mc& 1 \\
    3:(0,3) & . & . & . & . & \vrule & . & . & . & . & \vrule & . & . & . & . &  \vrule & . & . & . & . \\
    \hline
    4:(1,0) & . & . & . & .  & \vrule & . & . & . & . & \vrule & . & . & 1 & 1 & \vrule & . & . &\mc& 1\\
    5:(1,1) & . & . & . & .  & \vrule & . & . & . & . & \vrule & . & . & 1 & 1 & \vrule & . & . & 1 & 1 \\
    6:(1,2) & . & . & . & .  & \vrule & . & . & . & . & \vrule & . & . & . & 1 & \vrule & . & . & 1 & 1 \\
    7:(1,3) & . & . & . & .  & \vrule & . & . & . & . & \vrule & . & . & . & . & \vrule & . & . & 1 & . \\
    \hline
    8:(2,0) & . & . & . & .  & \vrule & . & . & . & . & \vrule & . & . & . & . & \vrule & . & . & . & . \\
    9:(2,1) & . & . & . & .  & \vrule & . & . & . & . & \vrule & . & . & . & . & \vrule & . & . & . & . \\
    10:(2,2) & . & . & . & .  & \vrule & . & . & . & . & \vrule & . & . & . & . & \vrule & . & . & . & 1 \\
    11:(2,3) & . & . & . & .  & \vrule & . & . & . & . & \vrule & . & . & . & . & \vrule & . & . & 1 & . \\
    \hline
    12:(2,0) & . & . & . & .  & \vrule & . & . & . & . & \vrule & . & . & . & . & \vrule & . & . & . & . \\
    13:(2,1) & . & . & . & .  & \vrule & . & . & . & . & \vrule & . & . & . & . & \vrule & . & . & . & . \\
    14:(2,2) & . & . & . & .  & \vrule & . & . & . & . & \vrule & . & . & . & . & \vrule & . & . & . & . \\
    15:(2,3) & . & . & . & .  & \vrule & . & . & . & . & \vrule & . & . & . & . & \vrule & . & . & . & . \\
}
\end{align*}
}

Result is presented in figure~\ref{fig:example_result}.
New edges is added to the original graph.

\begin{figure}[h]
    \centering         
    \begin{tikzpicture}[shorten >=1pt,auto]
    \node[state] (q_0)                      {$0$};
    \node[state] (q_1) [above right=of q_0] {$1$};
    \node[state] (q_2) [right=of q_0]       {$2$};
    \node[state] (q_3) [right=of q_2]       {$3$};
      \path[->]
        (q_0) edge node {a} (q_1)
        (q_1) edge node {a,\textbf{S}} (q_2)
        (q_2) edge[bend right, above]  node {a} (q_0)
        (q_2) edge[loop right]  node {\textbf{S}} (q_2)
        (q_1) edge[bend left, above]  node {\textbf{S}} (q_3)
        (q_0) edge[bend right, above]  node {\textbf{S}} (q_2)
        (q_2) edge[bend left, above]  node {b,\textbf{S}} (q_3)
        (q_0) edge[bend right, below]  node {\textbf{S}} (q_3)
        (q_3) edge[bend left, below]  node {b} (q_2);
    \end{tikzpicture}
    \caption{The result graph $\mathcal{G}$}
    \label{fig:example_result}    
\end{figure}


Index creation is finished. 
Onw can use it to unswer reachcbility queryes, but for some problems it is necessary to restore paths.
One can do it by using index created. 
Let for example we try to restore path from 2 to 2 derived from $S$.

To do it one should call \verb|getPaths(2, 2, s)|.
Partial trace of this call is presented below in figure~\ref{trc:exmaple}. 
First, we convert vertices from grap to indeces in matrix and call \verb|getPathsInner|.
Separation vertex \verb|pats={4}| and try to get patrs of paths going throw vertex with $id=4$.
\begin{figure}
\begin{minipage}[t]{0.48\textwidth}
{
\scriptsize
\setlength{\DTbaselineskip}{8pt}
\DTsetlength{0.2em}{0.5em}{0.2em}{0.4pt}{1.6pt}
\dirtree{%
.1 getPaths($2,2,S$).
.2 getPathsInner($2,14$).
.3 parts$=\{4\}$ parts = {4, 11} FIX IT!!!.
.3 getSubpaths($2,14,4$).
.4 l=$\{2 \xrightarrow{a} 0\}$.
.5 $\cdots$.
.6 getPathsInner($0,14$).
.7 parts = $\{5,11\}$.
.7 getSubpaths(0, 14, 5).
.8 $\cdots$.
.9 getPaths(1, 3, S).
.10 $\cdots$.
.11 getSubpaths(1,15,6).
.12 $l=\{ 1 \xrightarrow{a} 2 \}$.
.12 $r=\{ 2 \xrightarrow{b} 3 \}$.
.12 return $\{ 1\xrightarrow{a} 2 \xrightarrow{b} 3 \}$.
.7 getSubpaths(0, 14, 11).
.8 $\cdots$.
.9 getPaths(1, 3, S) // \begin{minipage}[t]{4cm}An alternative way to get paths from 1 to 3 which leads to infinite set of paths \end{minipage}.
.10 return $r_\infty^{1\leadsto 3}$ // \begin{minipage}[t]{4.5cm} An infinite set of path from 1 to 3 \end{minipage}.
.8 $\cdots$.
.7 return $\{0 \xrightarrow{a} 1 \xrightarrow{a} 2 \xrightarrow{b} 3 \xrightarrow{b} 2\} \cup (\{0 \xrightarrow{a} 1\} \cdot r_\infty^{1\leadsto 3} \cdot \{3 \xrightarrow{b} 2\})$ .
.2 return $\{2 \xrightarrow{a} 0 \xrightarrow{a} 1 \xrightarrow{a} 2 \xrightarrow{a} 0 \xrightarrow{a} 1 \xrightarrow{a} 2 \xrightarrow{b} 3 \xrightarrow{b} 2 \xrightarrow{b} 3 \xrightarrow{b} 2 \xrightarrow{b} 3 \xrightarrow{b} 2\} \cup (\{2 \xrightarrow{a}  0 \xrightarrow{a} 1 \xrightarrow{a} 2 \xrightarrow{a} 0 \xrightarrow{a} 1\} \cdot r_\infty^{1\leadsto 3} \cdot \{3 \xrightarrow{b} 2 \xrightarrow{b} 3 \xrightarrow{b} 2 \xrightarrow{b} 3 \xrightarrow{b} 2\})$.
}
}
\caption{Example of call stack trace}
\label{trc:exmaple}
\end{minipage}
\end{figure}


Expected path is returned, other paths calcualtion

Lazy evaluation is required.

The paths enumeration problem is actual here: ho can we enumerate paths with small delay.
