\subsection{Complexity}

Time complexity estimation in terms of input graph and grammar size is pretty similar to estimation of GLL complexity provided in~\cite{gllParsingTree}.

\begin{lemma}\label{lem:Descriptors}
For any descriptor $(L,u,i,w)$ either $w = \$$ or $w$ has extension $(j,i)$ where u has index $j$.
\end{lemma}
\begin{proof}
Proof of this lemma is the same as provided for original GLL in~\cite{gllParsingTree} because main function used for descriptors creation was not changed.
\end{proof}


\begin{mytheorem}\label{thm:GSSSpace}
The GSS generated by GLL-based graph parsing algorithm for grammar $G$ on input graph $M=(V,E,L)$ has at most $O(|V|)$ vertices and $O(|V|^2)$ edges.
\end{mytheorem}

\begin{proof}

Proof is the same as the proof of \textbf{Theorem 2} from~\cite{gllParsingTree} because structure of GSS was not changed. 

\end{proof}

\begin{mytheorem}\label{thm:SPPFSpace}
The SPPF generated by GLL-based graph parsing algorithm on input graph $M=(V,E,L)$ has at most $O(|V|^3 + |E|)$ vertices and edges.
\end{mytheorem}

\begin{proof}
Let us estimate the number of nodes of each type.
\begin{itemize}
\item \textbf{Terminal nodes.} 
Each of them is labeled with $(T, v_0, v_1)$, and such label can be created only if there is such $e \in E$ that $e=(v_0,T,v_1)$. 
Note, that there are no duplicate edges. 
Hence there are at most $|E|$ terminal nodes.
\item \textbf{$\varepsilon$ nodes} are labeled with $(\varepsilon, v ,v)$, hence there are at most $|V|$ of them. 
\item \textbf{Nonterminal nodes} have labels of form $(N,v_0,v_1)$, so there are at most $O(|V|^2)$ of them.
\item \textbf{Indeterminate nodes} have labels of form $(t,v_0,v_1)$, where $t$ is grammar slot, so there are at most $O(|V|^2)$ of them.
\item \textbf{Packed nodes} are children of intermediate or nonterminal nodes and have label of form $(t,v)$ where $t$ is a grammar slot $N \rightarrow \alpha \cdot \beta$.
There are at most $O(|V|^2)$ parents for packed nodes and each of them can have at most $O(|V|)$ children.
\end{itemize}

As a result there are at most $O(|V|^3 + |E|)$ nodes in SPPF.

The packed nodes have at most two children so there are at most $O(|V|^3 + |E|)$ edges with source in packed node. 
Nonterminal and intermediate nodes have at most $O(|V|)$ children and all of them are packed nodes.
Thus there are at most $O(|V|^3)$ edges with source in nonterminal or intermediate nodes. As a result there are at most $O(|V|^3 + |E|)$ edges in SPPF.


\end{proof}

\begin{mytheorem}
The space complexity of GLL-based graph parsing algorithm for graph $M=(V,E,L)$ is at most $O(|V|^3 + |E|)$.
\end{mytheorem}

\begin{proof}

From theorems~\ref{thm:GSSSpace} and~\ref{thm:SPPFSpace} we have that space required for main data structures is at most $O(|V|^3 + |E|)$. 

\end{proof}


\begin{mytheorem}\label{thm:complexity}
The runtime complexity of GLL-based graph parsing algorithm for graph $M=(V,E,L)$ is at most $$O\left(|V|^3*\max\limits_{v \in V}\left(deg^+\left(v\right)\right)\right).$$
\end{mytheorem}

\begin{proof}

From Lemma~\ref{lem:Descriptors} we get that there are at most $O(|V|^2)$ descriptors. 
Complexity of all functions are the same as in proof of \textbf{Theorem 4} from~\cite{gllParsingTree} except \textbf{Processing} function where we should process not single next input token, but the whole set of outgoing edges.
Thus, for each descriptor we should examine at most $$\max\limits_{v \in V}\left(deg^+\left(v\right)\right)$$ edges where $deg^+(v)$ is outdegree of vertex $v$.

Thus, worst-case complexity of proposed algorithm is $$O\left(V^3*\max\limits_{v \in V}\left(deg^+\left(v\right)\right)\right).$$
\end{proof}

%Also we can get averege-case complexity by calculate averege outdegree:
%\begin{align} \label{eq:avg}
%  & O\left(|V|^3*\frac {\sum\limits_{v \in V} deg^+(v)}{|V|}\right) = \nonumber \\
%  & O\left(|V|^2*\sum\limits_{v \in V} deg^+(v)\right) = \nonumber \\
%  & O\left(|V|^2*|E|\right) 
%\end{align}

From theorem~\ref{thm:complexity} we can get estimations for linear input and for LL grammars: $\text{for any } v \in V$ it is true, that $deg^+(v) \leq 1$, so $\max\limits_{v \in V}(deg^+(v))  = 1 $ and we get $O(|V|^3)$, as expected. 
For LL grammars and linear input complexity should be $O(|V|)$ for the same reason as for original GLL.
 

As discussed in~\cite{modellingGLL} achieving of theoretical complexity required special data structures which can be irrational for practice implementation and it is necessary to find balance between performance, software complexity, and hardware resources.
As a result in practice we can get slightly worse performance than theoretical estimation.

Note that result SPPF contains only paths matched specified query, so result SPPF size is $O(|V'|^3 + |E'|)$ where $M'=(V',E',L')$ is a subgraph of input graph $M$ which contains only matched paths.
Also note that each specific path can be explored with linear SPPF traversal. 
