\chapter{Сравнение и соотнесение} \label{chaptComp}

В данной главе представлено сравнение разработанного решения с основными существующими решениями в области анализа динамически формируемых строковых выражений. Описание существующих решений представлено в разделе~\ref{SELToolsDescr} данной работы, поэтому далее приводится только сравнение.

В качестве инструментов, с которыми производилось сравнение выбраны следующие: Alvor, JSA, PHPSA, IntelliLang, Varis. Так же проводилось сравнение с инструментом, названным нами условно AbsPars, реализованным авторами работ по абстрактному синтаксическому анализу~\cite{LrAbstract1, LrAbstract2, LRAbstractParsingSema}. Несмотря на то что в свободном доступе реализации алгоритма, изложенного в указанных статьях не обнаружено, самими авторами приводятся достаточно подробные результаты апробации реализации алгоритма, что позволяет сделать некоторые выводы о его основных возможностях.

Для сравнения были выбраны следующие критерии. Названия соответствуют именам колонок в таблице~\ref{tbl:comparison}.
\begin{itemize}
    \item \textbf{Платформа.} Предоставляется ли в явном виде платформа для создания новых инструментов. 
    \item \textbf{Построение леса разбора.} Предоставляет ли инструмент функциональность по построению леса разбора динамически формируемого кода.
    \item \textbf{Синтаксические ошибки.} Обнаруживает ли инструмент синтаксические ошибки в динамически формируемом коде.
    \item \textbf{Семантические ошибки.} Обнаруживает ли инструмент семантические ошибки в динамически формируемом коде.
    \item \textbf{Подсветка синтаксиса.} Обеспечивает ли инструмент подсветку синтаксиса.
    \item \textbf{Модульность.} Выделены ли отдельные независимые шаги обработки или же анализ является монолитным.
\end{itemize}

В таблице~\ref{tbl:comparison} приведены основные результаты сравнения инструментов статического анализа динамически формируемых строковых выражений. Использованы следующие обозначения.
\begin{itemize}
    \item $+$ --- функциональность, соответствующая критерию, полностью реализована.
    \item $-$ --- функциональность, соответствующая критерию, полностью не реализована.
    \item $+-$ --- соответствующая функциональность реализована частично.   
\end{itemize}

\begin{table} [htbp]
  \centering
  \parbox{14cm}{\caption{Сравнение инструментов анализа динамически формируемых строковых выражений}\label{tbl:comparison}}
  \begin{tabular}{| p{2.6cm} || p{2cm} | p{1.8cm} | p{1.8cm} | p{1.8cm} | p{2cm} | p{2cm}l |}
  \hline                               
  \hline
  \small{Инструмент}   &\centering \small{Платформа} &\centering \small{Лес разбора}      &\centering \small{Синт. ошибки} &\centering \small{Сем. ошибки} &\centering \small{Подсветка} &\centering \small{Модульность} & \\
  \hline 
  AbsPars      &\centering  $-$      &\centering  $+-^1$                 &\centering  $+$                  &\centering  $+$                 &\centering  $-$                 &\centering  $-$        & \\
  Alvor        &\centering  $-$      &\centering  $-$                    &\centering  $+$                  &\centering  $-$                 &\centering  $-$                 &\centering  $+$        &\\
  JSA          &\centering  $-$      &\centering  $-$                    &\centering  $+$                  &\centering  $-$                 &\centering  $-$                 &\centering  $-$        &\\
  PHPSA        &\centering  $-$      &\centering  $-$                    &\centering  $+$                  &\centering  $-$                 &\centering  $-$                 &\centering  $-$        &\\
  IntelliLang  &\centering  $+-^3$   &\centering  $-$                    &\centering  $+$                  &\centering  $+$                 &\centering  $+$                 &\centering  $+$        &\\
  Varis        &\centering  $-$      &\centering  $+^2$                  &\centering  $+$                  &\centering  $-$                 &\centering  $+$                 &\centering  $-$        &\\
  YC           &\centering  $+$      &\centering  $+$                    &\centering  $-^4$                &\centering  $+$                 &\centering  $+$                 &\centering  $+$        &\\
  \hline
  \hline
  \end{tabular}
\end{table}

Проведённое сравнение позволяет выявить несколько аспектов.
\begin{itemize}
    \item Инструменты, предназначенные для поддержки встроенных языков в средах разработки часто жертвуют точностью анализа для обеспечения возможности интерактивной работы, что делает их не применимыми для решения задач в других областях.
    \item Многие инструменты могут быть расширены, однако ранее не предоставлялось полноценного самостоятельного инструментария для создания новых инструментов для обработки динамически формируемых выражений.
    \item Инструменты реализованы на основе разных подходов и предназначены для решения разных задач, поэтому детальное сравнение их возможностей, производительности и других аспектов не представляется оправданным.
    %Выглядит подозрительно, но это реально так. Надо подать как-то так, чтобы вопросов не возникало.
\end{itemize}

В результате можно утверждать, что YC является единственной полноценной платформой для создания различных инструментов статического анализа динамически формируемых выражений, применимых в разных областях и обладающих широкими функциональными возможностями.

Отдельно было приведено сравнение производительности синтаксического анализа с инструментом Alvor, так как он реализует очень близкий подход: независимые шаги анализа, синтаксический анализ основан на GLR-алгоритме.

Так как Alvor не предоставляет платформы для простой реализации поддержки новых языков, то для сравнения было выбрано подмножество языка SQL, общее для Alvor и реализованного в рамках апробации инструмента. Тесты строились по принципу, аналогичному изложенному в разделе~\ref{SyntTestsEvalDescr}.

!!!Далее сколько-то картинок и выводы!!!
